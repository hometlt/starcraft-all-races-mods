<Catalog>

    <CUnit id="FuelCellWeapon" parent="MISSILE"/>
    <CActorSound id="AC_FuelCell_Payload_Delivery_AS" parent="SoundOneShot">
        <Sound value="AC_FuelCell_Payload_Delivery"/>
        <On Terms="UnitBirth.FuelCellWeapon" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Weapon_Death_AS" parent="SoundOneShot">
        <Sound value="AC_FuelCell_Carry_Death"/>
    </CActorSound>
    <CActorUnit id="EnvironmentalStabilizer" parent="TerranBuilding" unitName="EnvironmentalStabilizer">
        <Macros value="RemoveFlyerHelperMacro"/>
        <On Terms="ActorCreation" Send="Create GeneratorCorePowerLoop"/>
        <On Terms="Signal.*.On" Send="AnimGroupApply Work Work,Start Work,End"/>
        <On Terms="Signal.*.Off" Send="AnimGroupRemove Work"/>
        <BarOffset value="115"/>
        <BarWidth value="138"/>
        <GroupIcon>
            <Image value="Assets\Textures\wireframe-terran-platformstabilizer.dds"/>
        </GroupIcon>
        <LifeArmorIcon value="Assets\Textures\btn-upgrade-terran-buildingarmor.dds"/>
        <NameOffset value="120"/>
        <Wireframe>
            <Image value="Assets\Textures\wireframe-terran-platformstabilizer.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorUnit id="FuelCellPickupUnit" parent="GenericUnitBase" unitName="FuelCellPickupUnit">
        <On Terms="Signal.*.LavaCreated" Send="AnimGroupApply Work"/>
        <On Terms="Signal.*.LavaCreated" Send="AnimPlay BirthEX Birth"/>
        <On Terms="Signal.*.LavaCreated" Send="SetWireframe 0 Assets\Textures\Wireframe-pickupxenoncrystal.dds"/>
        <On Terms="AnimPlay; AnimName Birth" Send="AnimClear Birth"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <UnitIcon value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        <GroupIcon>
            <Image value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        </GroupIcon>
        <Wireframe>
            <Image value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorSiteOpLocalOffset id="SOpFuelCellCarryOffset"/>
    <CActorModel id="FuelCellCarryModel">
        <Aliases value="_Snapshot"/>
        <Inherits index="BaseModelScale" value="1"/>
        <Inherits index="CastShadows" value="1"/>
        <Inherits index="CloakEffect" value="1"/>
        <Inherits index="CreepEngulfment" value="1"/>
        <Inherits index="Decal" value="1"/>
        <Inherits index="ModelMaterials" value="1"/>
        <Inherits index="Opacity" value="1"/>
        <Inherits index="Scale" value="1"/>
        <Inherits index="TeamColor" value="1"/>
        <Inherits index="TimeScale" value="1"/>
        <Inherits index="TintColor" value="1"/>
        <Inherits index="Visibility" value="1"/>
        <Inherits index="WarpGroup" value="1"/>
        <On Terms="ActorCreation" Send="AnimBracketStart BSD {} Stand Death"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <On Terms="AnimBracketState.*.AfterClosing; !AnimBracketExitReason ModelSwap; AnimName BSD" Send="Destroy"/>
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
        <On Terms="Behavior.FuelCellPickupUnit.Off" Send="Destroy"/>
        <On Terms="AnimPlay; AnimName Birth" Send="AnimClear Birth"/>
        <Host Subject="_Selectable"/>
        <HostSiteOps Ops="SOpAttachHardPoint SOpFuelCellCarryOffset"/>
        <ModelFlags index="UseSyncSeed" value="1"/>
    </CActorModel>
    <CActorSound id="AC_FuelCell_Pkup" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Pkup_RockLayer" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Carry_Death" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.Off" Send="Destroy"/>
    </CActorSound>
    <CActorAction id="FuelCellWeaponAction" parent="GenericAttack" effectImpact="FuelCellTurninDummy" effectLaunch="FuelCellTurninLM">
        <LaunchAssets Sound="AC_FuelCell_Payload_PowerUp"/>
        <LaunchSiteOps Ops="SOpAttachHardPoint SOpFuelCellCarryOffset"/>
        <Missile value="FuelCellWeapon"/>
        <ImpactSiteOps Ops="SOpAttachCenter"/>
        <ShieldFlashType value="None"/>
    </CActorAction>
    <CActorMissile id="FuelCellWeapon" unitName="FuelCellWeapon">
        <Aliases value="_Unit"/>
        <Aliases value="_Missile"/>
        <PreHost value="_ActorAction"/>
        <Model value="FuelCellCarryModel"/>
        <On Terms="UnitBirth.FuelCellWeapon" Send="Create"/>
        <On Terms="UnitBirth" Send="AnimBracketStart Lifetime {} Stand Death"/>
        <On Terms="UnitDeath" Send="Destroy"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <On Terms="MotionPhaseStart; MotionPhase 1" Send="HostSiteOpsSet ::Host {SOpFuelCellLaunchRotatorA SOpFuelCellLaunchRotatorB}"/>
        <HostSiteOps Ops="SOpIvariiCrystalPickupRotator SOpIvariiCrystalPickupRotatorB"/>
    </CActorMissile>
    <CEffectSet id="FuelCellPickupUnit">
        <EffectArray value="FuelCellPickupUnitAB"/>
        <EffectArray value="FuelCellPickupUnitKillTarget"/>
    </CEffectSet>
    <CEffectDamage id="FuelCellPickupUnitKillTarget">
        <Flags index="Kill" value="1"/>
        <Death value="Timeout"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="FuelCellPickupUnitAB">
        <EditorCategories value="Race:Terran"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="FuelCellPickupUnit"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="FuelCellPickupUnitRB">
        <EditorCategories value="Race:Terran"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="FuelCellPickupUnit"/>
    </CEffectRemoveBehavior>
    <CEffectCreateUnit id="FuelCellPickupUnitCULava">
        <EditorCategories value="Race:Terran"/>
        <WhichLocation Value="SourcePoint"/>
        <SpawnUnit value="FuelCellPickupUnit"/>
        <SpawnRange value="8"/>
        <SpawnEffect value="FuelCellPickupUnitCreateLinkDummy"/>
        <ValidatorArray value="TargetHasLavaDamage1"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="FuelCellPickupUnitCU">
        <EditorCategories value="Race:Terran"/>
        <WhichLocation Value="SourcePoint"/>
        <SpawnUnit value="FuelCellPickupUnit"/>
        <SpawnRange value="8"/>
        <SpawnEffect value="FuelCellPickupUnitCreateLinkDummy"/>
    </CEffectCreateUnit>
    <CEffectModifyUnit id="FuelCellPickupUnitCreateLinkDummy"/>
    <CEffectLaunchMissile id="FuelCellTurninLM">
        <AmmoUnit value="FuelCellWeapon"/>
        <ImpactEffect value="FuelCellTurninDummy"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="FuelCellTurninDummy"/>
    <CModel id="FuelCellPickupUnit" parent="Unit" Race="Terran">
        <ScaleMax value="1.150000,1.150000,1.150000"/>
        <ScaleMin value="1.150000,1.150000,1.150000"/>
        <Model value="Assets\Units\Neutral\Pickup_XenonCrystal\Pickup_XenonCrystal.m3"/>
        <SelectionOffset value="0.000000,0.000000,0.100000"/>
    </CModel>
    <CModel id="FuelCellCarryModel" parent="Unit" Race="Terran">
        <ScaleMax value="1.150000,1.150000,1.150000"/>
        <ScaleMin value="1.150000,1.150000,1.150000"/>
        <Model value="Assets\Units\Neutral\Pickup_XenonCrystal\Pickup_XenonCrystal.m3"/>
    </CModel>
    <CMoverMissile id="FuelCellWeapon">
        <MotionPhases>
            <Driver value="Throw"/>
            <Acceleration value="3200"/>
            <MaxSpeed value="1"/>
            <ArrivalTestType value="2D"/>
            <BlendType value="Linear"/>
            <Outro value="4,4.5"/>
            <RotationActorType value="Upright"/>
            <ThrowVector value="0,0,5"/>
        </MotionPhases>
        <MotionPhases>
            <Driver value="Guidance"/>
            <Acceleration value="3200"/>
            <MaxSpeed value="10"/>
            <TurnType value="Optimal"/>
            <ArrivalTestType value="2D"/>
            <BlendType value="Linear"/>
            <RotationActorType value="Upright"/>
            <YawPitchRoll value="MAX"/>
        </MotionPhases>
    </CMoverMissile>
</Catalog>