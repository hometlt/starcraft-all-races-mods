<Catalog>
    <CValidatorUnitType id="NotWorkerProbe">
        <Value value="Probe"/>
        <Find value="0"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="CasterIsColossus">
        <WhichUnit Value="Caster"/>
        <Value value="Colossus"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="DoubleDamage">
        <WhichUnit Value="Caster"/>
        <Value value="1"/>
        <Behavior value="VoidRayPhase2"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="NotDoubleDamage">
        <WhichUnit Value="Caster"/>
        <Compare value="NE"/>
        <Value value="1"/>
        <Behavior value="VoidRayPhase2"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="NotQuadAndNotDoubleDamage">
        <Type value="And"/>
        <CombineArray value="NotDoubleDamage"/>
        <CombineArray value="NotQuadDamage"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="NotQuadDamage">
        <WhichUnit Value="Caster"/>
        <Compare value="NE"/>
        <Value value="1"/>
        <Behavior value="VoidRayPhase3"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="QuadDamage">
        <WhichUnit Value="Caster"/>
        <Value value="1"/>
        <Behavior value="VoidRayPhase3"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="QuadOrDoubleDamage">
        <CombineArray value="QuadDamage"/>
        <CombineArray value="DoubleDamage"/>
    </CValidatorCombine>
    <CValidatorCombine id="CasterIsUnpoweredAndNotUnderConstruction">
        <Type value="And"/>
        <CombineArray value="HasNoPower"/>
        <CombineArray value="IsNotConstructing"/>
    </CValidatorCombine>
    <CValidatorUnitComparePowerUserLevel id="HasNoPower"/>
    <CValidatorCombine id="ProtossBurnDownFire">
        <Type value="And"/>
        <CombineArray value="ShieldLQuarter"/>
        <CombineArray value="LifeLTThreeQuarter"/>
        <CombineArray value="ProtossBurnDownValid"/>
    </CValidatorCombine>
    <CValidatorUnitCompareVital id="ShieldGEQuarter">
        <ResultFailed value="TooMuchLife"/>
        <Compare value="GE"/>
        <Type value="Fraction"/>
        <Value value="0.25"/>
        <Vital value="Shields"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="ProtossBurnDownNormal">
        <Type value="And"/>
        <CombineArray value="ShieldGEQuarter"/>
        <CombineArray value="ProtossBurnDownValid"/>
    </CValidatorCombine>
    <CValidatorUnitFilters id="ProtossBurnDownValid">
        <Filters value="-;UnderConstruction,Dead"/>
    </CValidatorUnitFilters>
    <CValidatorUnitType id="IsFusionCore">
        <Value value="FusionCore"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsNexus">
        <Value value="Nexus"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsFleetBeacon">
        <Value value="FleetBeacon"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsTwilightCouncil">
        <Value value="TwilightCouncil"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsCyberneticsCore">
        <Value value="CyberneticsCore"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsForge">
        <Value value="Forge"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsRoboticsBay">
        <Value value="RoboticsBay"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsTemplarArchives">
        <Value value="TemplarArchive"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsRoboticsFacility">
        <Value value="RoboticsFacility"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsStarGate">
        <Value value="Stargate"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="NotWarpingIn">
        <ResultFailed value="CantTargetThatUnit,Error/CantTargetWarpingInUnits"/>
        <Behavior value="PowerUserWarpable"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationComparePower id="SuperPower">
        <Value value="2"/>
        <PowerLink value="PowerSource"/>
    </CValidatorLocationComparePower>
    <CValidatorUnitCompareBehaviorCount id="IsNotWarpingIn">
        <Compare value="NE"/>
        <Value value="1"/>
        <Behavior value="PowerUserWarpable"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="IsNotPhaseShifted">
        <Compare value="NE"/>
        <Value value="1"/>
        <Behavior value="Ethereal"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="IsWarpingIn">
        <Value value="1"/>
        <Behavior value="PowerUserWarpable"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="NotForceField">
        <Value value="ForceField"/>
        <Find value="0"/>
    </CValidatorUnitType>
    <CValidatorCombine id="NotVortexd">
        <Type value="And"/>
        <CombineArray value="NotVortexdFriendly"/>
        <CombineArray value="NotVortexdEnemy"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="NotVortexdFriendly">
        <Behavior value="VortexBehavior"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="NotVortexdEnemy">
        <Behavior value="VortexBehaviorEnemy"/>
        <ResultFailed value="CantTargetThatUnit"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="IsVortexed">
        <CombineArray value="IsVortexdFriendly"/>
        <CombineArray value="IsVortexdEnemy"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="IsVortexdFriendly">
        <Behavior value="VortexBehavior"/>
        <ResultFailed value="CantTargetThatUnit"/>
        <Value value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="IsVortexdEnemy">
        <Behavior value="VortexBehaviorEnemy"/>
        <ResultFailed value="CantTargetThatUnit"/>
        <Value value="1"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="NotGravitonBeamd">
        <Behavior value="GravitonBeam"/>
        <ResultFailed value="CantTargetThatUnit,Error/CantTargetGravitonBeam"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="GatewayIsWarpgate">
        <Type value="And"/>
        <CombineArray value="IsWarpgate"/>
        <CombineArray value="IsNotConstructing"/>
    </CValidatorCombine>
    <CValidatorUnitCompareBehaviorCount id="IsHallucination">
        <Value value="1"/>
        <Behavior value="Hallucination"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="IsProbe">
        <Value value="Probe"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsWarpgate">
        <Value value="WarpGate"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsGateway">
        <Value value="Gateway"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="NotPhotonCannon">
        <Find value="0"/>
        <Value value="PhotonCannon"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="DoesNotHaveTemporalRift">
        <ResultFailed value="CantTargetThatUnit"/>
        <Behavior value="TemporalRiftUnit"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="IsProtossUnit">
        <Type value="And"/>
        <CombineArray value="NotStructure"/>
        <CombineArray value="IsProtoss"/>
    </CValidatorCombine>
    <CValidatorCombine id="TimeWarpTargetFilters">
        <CombineArray value="TimeWarpViableTargets"/>
        <CombineArray value="NotDeadOrConstruction"/>
        <ResultFailed value="CantTargetThatUnit"/>
        <Type value="And"/>
    </CValidatorCombine>
    <CValidatorCombine id="TimeWarpViableTargets">
        <CombineArray value="TimewarpProduction"/>
        <CombineArray value="TimewarpResearch"/>
    </CValidatorCombine>
    <CValidatorCombine id="TimewarpProduction">
        <CombineArray value="IsNexus"/>
        <CombineArray value="IsRoboticsFacility"/>
        <CombineArray value="IsStarGate"/>
        <CombineArray value="IsGateway"/>
        <CombineArray value="IsLarva"/>
        <CombineArray value="IsWarpgate"/>
        <CombineArray value="IsBarracks"/>
        <CombineArray value="IsFactory"/>
        <CombineArray value="IsStarport"/>
        <CombineArray value="IsCommandCenter"/>
        <CombineArray value="IsOrbitalCommand"/>
        <CombineArray value="IsPlanetaryFortress"/>
        <CombineArray value="IsEgg"/>
        <CombineArray value="IsHatcheryLairOrHive"/>
    </CValidatorCombine>
    <CValidatorCombine id="TimewarpResearch">
        <CombineArray value="IsCyberneticsCore"/>
        <CombineArray value="IsForge"/>
        <CombineArray value="IsRoboticsBay"/>
        <CombineArray value="IsTwilightCouncil"/>
        <CombineArray value="IsTemplarArchives"/>
        <CombineArray value="IsFleetBeacon"/>
        <CombineArray value="IsEngineeringBay"/>
        <CombineArray value="IsBarracksTechLab"/>
        <CombineArray value="IsStarportTechLab"/>
        <CombineArray value="IsFactoryTechLab"/>
        <CombineArray value="IsMercCompound"/>
        <CombineArray value="IsGhostAcademy"/>
        <CombineArray value="IsArmory"/>
        <CombineArray value="IsFusionCore"/>
        <CombineArray value="IsSpawningPool"/>
        <CombineArray value="IsEvolutionChamber"/>
        <CombineArray value="IsHydraliskDen"/>
        <CombineArray value="IsBanelingNest"/>
        <CombineArray value="IsRoachWarren"/>
        <CombineArray value="IsLurkerDen"/>
        <CombineArray value="IsInfestationPit"/>
        <CombineArray value="IsSpire"/>
        <CombineArray value="IsGreaterSpire"/>
        <CombineArray value="IsUltraliskCavern"/>
    </CValidatorCombine>
    <CValidatorUnitType id="NotMothership">
        <Find value="0"/>
        <Value value="Mothership"/>
    </CValidatorUnitType>
    <CValidatorUnitFilters id="PsiStormUTargetFilters">
        <Filters value="-;Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
    </CValidatorUnitFilters>
    <CValidatorUnitCompareField id="RequiresProtoss">
        <Field value="Race"/>
        <Value value="Prot"/>
        <ResultFailed value="MustTargetRace"/>
    </CValidatorUnitCompareField>
    <CValidatorUnitCompareBehaviorCount id="IsNotHallucination">
        <Compare value="NE"/>
        <Value value="1"/>
        <Behavior value="Hallucination"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="NotNexus">
        <Find value="0"/>
        <Value value="Nexus"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="NoGravitonBeamInProgress">
        <Behavior value="GravitonBeam"/>
        <Compare value="LE"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorLocationCompareRange id="VortexHideRange">
        <Compare value="LT"/>
        <Range value="0.5"/>
        <Value Effect="VortexSearchArea" Value="TargetPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorCombine id="VortexApplyHide">
        <CombineArray value="VortexHideRange"/>
        <CombineArray value="IsConstructing"/>
    </CValidatorCombine>
    <CValidatorUnitOrderTargetType id="CanCharge">
        <AbilLink value="attack"/>
        <ResultFailed value="MustTargetUnit"/>
    </CValidatorUnitOrderTargetType>
    <CValidatorUnitCompareBehaviorCount id="NotCharging">
        <Behavior value="Charging"/>
        <ResultFailed value="AlreadyTargeted"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareOrderTargetRange id="ChargeMinDistance">
        <Compare value="GT"/>
        <Value value="0.1"/>
        <AbilLink value="attack"/>
        <ResultFailed value="TargetIsTooClose"/>
    </CValidatorUnitCompareOrderTargetRange>
    <CValidatorLocationCompareRange id="ChargeMaxDistance">
        <WhichLocation Value="SourceUnit"/>
        <Value Value="TargetUnit"/>
        <Compare value="LT"/>
        <Range value="4"/>
        <ResultFailed value="TargetIsOutOfRange"/>
        <Pathing value="1"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationComparePower id="IsPoweredByWarpPrism">
        <PowerSource value="WarpPrismPowerSource"/>
        <Compare value="GT"/>
    </CValidatorLocationComparePower>
    <CValidatorUnitFilters id="NotHallucination">
        <Filters value="-;Hallucination"/>
        <WhichUnit Value="Caster"/>
    </CValidatorUnitFilters>
    <CValidatorUnitWeaponFiring id="ChargeTargetAttacked">
        <WhichUnit Value="Caster"/>
        <Weapon value="PsiBlades"/>
        <Find value="0"/>
    </CValidatorUnitWeaponFiring>
    <!--

    GravitonBeam

    -->
    <CValidatorCombine id="IdleAttackAirGroundValidator">
        <CombineArray value="AttacksAirIdleGE3"/>
        <CombineArray value="AirIdleGE2AndGroundLE2"/>
    </CValidatorCombine>
    <CValidatorLocationEnumArea id="AttacksAirIdleGE3" parent="HostileSearch">
        <!--make the count value one less because it doesn't include own unit-->
        <Count value="2"/>
        <AreaArray Radius="7" Validator="AttacksAirAndIdle"/>
        <SearchFilters value="-;Neutral,Enemy,Worker,Missile,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CValidatorLocationEnumArea>
    <CValidatorCombine id="AttacksAirAndIdle">
        <Type value="And"/>
        <CombineArray value="TargetHasNoOrders"/>
        <CombineArray value="TargetAttacksAir"/>
    </CValidatorCombine>
    <CValidatorCombine id="AirIdleGE2AndGroundLE2">
        <Type value="And"/>
        <CombineArray value="AttacksAirIdleGE2"/>
        <CombineArray value="AttacksGroundLT2"/>
    </CValidatorCombine>
    <CValidatorLocationEnumArea id="AttacksAirIdleGE2" parent="AttacksAirIdleGE3">
        <Count value="1"/>
    </CValidatorLocationEnumArea>
    <CValidatorLocationEnumArea id="AttacksGroundLT2" parent="AttacksAirIdleGE2">
        <Compare value="LT"/>
        <AreaArray Radius="7" Validator="TargetAttacksGround"/>
    </CValidatorLocationEnumArea>
    <CValidatorUnitCompareAttackPriority id="ThreatensPhoenix" parent="Threatens">
        <AttackerAlternateType value="Phoenix"/>
    </CValidatorUnitCompareAttackPriority>
    <CValidatorCombine id="GravitonBeamThreatValidatorTarget">
        <Type value="And"/>
        <CombineArray value="noMarkers"/>
        <CombineArray value="ThreatensPhoenix"/>
    </CValidatorCombine>
    <CValidatorCombine id="GravitonBeamHostileValidatorTargetSomeEnergy">
        <Type value="And"/>
        <CombineArray value="noMarkers"/>
        <CombineArray value="TargetLifeGE80"/>
    </CValidatorCombine>
    <CValidatorCombine id="GravitonBeamHostileValidatorCasterSomeEnergy">
        <Type value="And"/>
        <CombineArray value="CasterEnergyGE100"/>
    </CValidatorCombine>
    <CValidatorCombine id="GravitonBeamHostileValidatorTargetNearFullEnergy">
        <Type value="And"/>
        <CombineArray value="noMarkers"/>
        <CombineArray value="TargetLifeGE20"/>
    </CValidatorCombine>
    <CValidatorCombine id="GravitonBeamHostileValidatorCasterNearFullEnergy">
        <Type value="And"/>
        <CombineArray value="CasterEnergyGE170"/>
    </CValidatorCombine>
    <!--

    Stalker Blink

    -->
    <CValidatorLocationCompareRange id="TacticalBlinkRetreatTest">
        <Compare value="LE"/>
        <Range value="8"/>
        <WhichLocation Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <CValidatorLocationCompareRange id="TacticalBlinkAttackRange">
        <Compare value="GT"/>
        <Range value="6"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorFunction id="TacticalBlinkChaseTest">
        <Line Failure="TacticalBlinkTargetAttacking"/>
        <Line Failure="TacticalBlinkTargetClose"/>
    </CValidatorFunction>
    <CValidatorUnitCompareOrderCount id="TacticalBlinkTargetAttacking">
        <WhichUnit Value="Target"/>
        <AbilLink value="attack"/>
    </CValidatorUnitCompareOrderCount>
    <CValidatorLocationCompareRange id="TacticalBlinkTargetClose">
        <Compare value="LT"/>
        <Range value="4"/>
        <WhichLocation Value="TargetUnitOrPoint"/>
    </CValidatorLocationCompareRange>
    <CValidatorUnitType id="SpineCrawler">
        <Value value="SpineCrawler"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="NotWarpPrism">
        <Value value="WarpPrism"/>
        <Find value="0"/>
        <Type value="SelectAlias"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsCarrier">
        <Value value="Carrier"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsInterceptor">
        <Value value="Interceptor"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsPhoenix">
        <Value value="Phoenix"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsVoidRay">
        <Value value="VoidRay"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsMothership">
        <Value value="Mothership"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsObserver">
        <Value value="Observer"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsWarpPrism">
        <Value value="WarpPrism"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsWarpPrismPhasing">
        <Value value="WarpPrismPhasing"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsHighTemplar">
        <Value value="HighTemplar"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsDarkTemplar">
        <Value value="DarkTemplar"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsPhotonCannon">
        <Value value="PhotonCannon"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsZealot">
        <Value value="Zealot"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsStalker">
        <Value value="Stalker"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsArchon">
        <Value value="Archon"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsImmortal">
        <Value value="Immortal"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsSentry">
        <Value value="Sentry"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsPylon">
        <Value value="Pylon"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsDarkShrine">
        <Value value="DarkShrine"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="IsAssimilator">
        <Value value="Assimilator"/>
    </CValidatorUnitType>
    <CValidatorCombine id="MothershipRangeCheckCombine">
        <Type value="And"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="MothershipRangeCheck"/>
    </CValidatorCombine>
    <CValidatorLocationCompareRange id="MothershipRangeCheck">
        <Compare value="LE"/>
        <Range value="8"/>
        <WhichLocation Value="TargetUnit"/>
    </CValidatorLocationCompareRange>
    <!--
   Carrier Hangar

       return (not training);
   -->
    <CValidatorUnitCompareOrderCount id="HangarQueueEmpty">
        <AbilLink value="CarrierHangar"/>
    </CValidatorUnitCompareOrderCount>

    <CValidatorUnitCompareBehaviorCount id="PsiStormTestBuff">
        <Behavior value="PsiStorm"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="NotInterceptor">
        <Value value="Interceptor"/>
        <Find value="0"/>
    </CValidatorUnitType>

</Catalog>