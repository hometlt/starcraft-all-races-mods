<Catalog>

    <CUnit id="EnvironmentalStabilizer">
        <Facing value="315"/>
        <Race value="TerrNeut"/>
        <FlagArray index="PreventDefeat" value="1"/>
        <FlagArray index="PreventDestroy" value="1"/>
        <FlagArray index="PenaltyRevealed" value="1"/>
        <FlagArray index="UseLineOfSight" value="1"/>
        <FlagArray index="TownAlert" value="1"/>
        <FlagArray index="NoPortraitTalk" value="1"/>
        <FlagArray index="ArmorDisabledWhileConstructing" value="1"/>
        <FogVisibility value="Snapshot"/>
        <PlaneArray index="Ground" value="1"/>
        <Collide index="Burrow" value="1"/>
        <Collide index="Ground" value="1"/>
        <Collide index="Structure" value="1"/>
        <Collide index="Small" value="1"/>
        <Attributes index="Armored" value="1"/>
        <Attributes index="Mechanical" value="1"/>
        <Attributes index="Structure" value="1"/>
        <LifeStart value="500"/>
        <LifeMax value="500"/>
        <LifeArmor value="1"/>
        <LifeArmorName value="Unit/LifeArmorName/TerranBuildingPlating"/>
        <Sight value="9"/>
        <CostResource index="Minerals" value="200"/>
        <CostResource index="Vespene" value="200"/>
        <RepairTime value="75"/>
        <AttackTargetPriority value="11"/>
        <Radius value="1.5"/>
        <SeparationRadius value="1.5"/>
        <Footprint value="Footprint6x6Contour"/>
        <PlacementFootprint value="Footprint6x6Contour"/>
        <ScoreResult value="BuildOrder"/>
        <SubgroupPriority value="3"/>
        <MinimapRadius value="1.5"/>
        <EditorCategories value="ObjectType:Structure"/>
    </CUnit>
    <CModel id="EnvironmentalStabilizer" parent="Building" Race="Terran">
        <Model value="Assets\Buildings\Terran\City_Stabilizer\City_Stabilizer.m3"/>
        <Events>
            <Anim value="Stand,00"/>
            <Name value="Korhal_Generator_Core_Motion"/>
            <Type value="Sound"/>
            <Time value="0.010000"/>
            <Payload value="Korhal_Generator_Core_Motion"/>
        </Events>
        <Events>
            <Anim value="Stand,00"/>
            <Name value="Korhal_Generator_Core_Clunks"/>
            <Type value="Sound"/>
            <Time value="0.010000"/>
            <Payload value="Korhal_Generator_Core_Clunks"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,00"/>
            <Name value="Korhal_Metal_VentDoor_SteamChuf"/>
            <Type value="Sound"/>
            <Time value="1.311000"/>
            <Payload value="Korhal_Metal_VentDoor_SteamChuf"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,00"/>
            <Name value="Korhal_Large_Metal_Door_Close"/>
            <Type value="Sound"/>
            <Time value="1.400000"/>
            <Payload value="Korhal_Large_Metal_Door_Close"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,00"/>
            <Name value="Korhal_Generator_Core_Motion"/>
            <Type value="Sound"/>
            <Time value="0.011000"/>
            <Payload value="Korhal_Generator_Core_Motion"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,00"/>
            <Name value="Korhal_Explosion_Metal_Impact_Cu"/>
            <Type value="Sound"/>
            <Time value="1.382000"/>
            <Payload value="Korhal_Explosion_Metal_Impact_Cu"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,Start,00"/>
            <Name value="Korhal_Metal_VentDoor_SteamChuf"/>
            <Type value="Sound"/>
            <Time value="0.470000"/>
            <Payload value="Korhal_Metal_VentDoor_SteamChuf"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,Start,00"/>
            <Name value="Korhal_Generator_Core_Motion"/>
            <Type value="Sound"/>
            <Time value="0.011000"/>
            <Payload value="Korhal_Generator_Core_Motion"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,Start,00"/>
            <Name value="Korhal_Explosion_Metal_Impact_Cu"/>
            <Type value="Sound"/>
            <Time value="0.753000"/>
            <Payload value="Korhal_Explosion_Metal_Impact_Cu"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,Start,00"/>
            <Name value="Korhal_Large_Metal_Door_Close"/>
            <Type value="Sound"/>
            <Time value="1.514000"/>
            <Payload value="Korhal_Large_Metal_Door_Close"/>
        </Events>
        <Events>
            <Anim value="Stand,Work,End,00"/>
            <Name value="GeneratorCorePowerEnd_PwrDn"/>
            <Type value="Sound"/>
            <Payload value="GeneratorCorePowerEnd_PwrDn"/>
        </Events>
        <Flags index="AutoUnload" value="1"/>
        <Radius value="3.000000"/>
        <SelectionLayer value="2"/>
        <SelectionRadius value="4.000000"/>
        <ShadowRadius value="3.000000"/>
    </CModel>
    <CUnit id="FuelCellWeapon" parent="MISSILE"/>
    <CActorSound id="AC_FuelCell_Payload_Delivery_AS" parent="SoundOneShot">
        <Sound value="AC_FuelCell_Payload_Delivery"/>
        <On Terms="UnitBirth.FuelCellWeapon" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Weapon_Death_AS" parent="SoundOneShot">
        <Sound value="AC_FuelCell_Carry_Death"/>
    </CActorSound>
    <CActorUnit id="EnvironmentalStabilizer" parent="TerranBuilding" unitName="EnvironmentalStabilizer">
        <Macros value="RemoveFlyerHelperMacro"/>
        <On Terms="ActorCreation" Send="Create GeneratorCorePowerLoop"/>
        <On Terms="Signal.*.On" Send="AnimGroupApply Work Work,Start Work,End"/>
        <On Terms="Signal.*.Off" Send="AnimGroupRemove Work"/>
        <BarOffset value="115"/>
        <BarWidth value="138"/>
        <GroupIcon>
            <Image value="Assets\Textures\wireframe-terran-platformstabilizer.dds"/>
        </GroupIcon>
        <LifeArmorIcon value="Assets\Textures\btn-upgrade-terran-buildingarmor.dds"/>
        <NameOffset value="120"/>
        <Wireframe>
            <Image value="Assets\Textures\wireframe-terran-platformstabilizer.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorUnit id="FuelCellPickupUnit" parent="GenericUnitBase" unitName="FuelCellPickupUnit">
        <On Terms="Signal.*.LavaCreated" Send="AnimGroupApply Work"/>
        <On Terms="Signal.*.LavaCreated" Send="AnimPlay BirthEX Birth"/>
        <On Terms="Signal.*.LavaCreated" Send="SetWireframe 0 Assets\Textures\Wireframe-pickupxenoncrystal.dds"/>
        <On Terms="AnimPlay; AnimName Birth" Send="AnimClear Birth"/>
        <StatusBarFlags index="Shields" value="0"/>
        <StatusBarFlags index="Life" value="0"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <StatusBarFlags index="Progress" value="0"/>
        <StatusBarFlags index="Duration" value="0"/>
        <UnitIcon value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        <GroupIcon>
            <Image value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        </GroupIcon>
        <Wireframe>
            <Image value="Assets\Textures\Wireframe-xenoncrystal.dds"/>
        </Wireframe>
    </CActorUnit>
    <CActorSiteOpLocalOffset id="SOpFuelCellCarryOffset"/>
    <CActorModel id="FuelCellCarryModel">
        <Aliases value="_Snapshot"/>
        <Inherits index="BaseModelScale" value="1"/>
        <Inherits index="CastShadows" value="1"/>
        <Inherits index="CloakEffect" value="1"/>
        <Inherits index="CreepEngulfment" value="1"/>
        <Inherits index="Decal" value="1"/>
        <Inherits index="ModelMaterials" value="1"/>
        <Inherits index="Opacity" value="1"/>
        <Inherits index="Scale" value="1"/>
        <Inherits index="TeamColor" value="1"/>
        <Inherits index="TimeScale" value="1"/>
        <Inherits index="TintColor" value="1"/>
        <Inherits index="Visibility" value="1"/>
        <Inherits index="WarpGroup" value="1"/>
        <On Terms="ActorCreation" Send="AnimBracketStart BSD {} Stand Death"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <On Terms="AnimBracketState.*.AfterClosing; !AnimBracketExitReason ModelSwap; AnimName BSD" Send="Destroy"/>
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
        <On Terms="Behavior.FuelCellPickupUnit.Off" Send="Destroy"/>
        <On Terms="AnimPlay; AnimName Birth" Send="AnimClear Birth"/>
        <Host Subject="_Selectable"/>
        <HostSiteOps Ops="SOpAttachHardPoint SOpFuelCellCarryOffset"/>
        <ModelFlags index="UseSyncSeed" value="1"/>
    </CActorModel>
    <CActorSound id="AC_FuelCell_Pkup" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Pkup_RockLayer" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.On" Send="Create"/>
    </CActorSound>
    <CActorSound id="AC_FuelCell_Carry_Death" parent="SoundOneShot">
        <On Terms="Behavior.FuelCellPickupUnit.Off" Send="Destroy"/>
    </CActorSound>
    <CActorAction id="FuelCellWeaponAction" parent="GenericAttack" effectImpact="FuelCellTurninDummy" effectLaunch="FuelCellTurninLM">
        <LaunchAssets Sound="AC_FuelCell_Payload_PowerUp"/>
        <LaunchSiteOps Ops="SOpAttachHardPoint SOpFuelCellCarryOffset"/>
        <Missile value="FuelCellWeapon"/>
        <ImpactSiteOps Ops="SOpAttachCenter"/>
        <ShieldFlashType value="None"/>
    </CActorAction>
    <CActorMissile id="FuelCellWeapon" unitName="FuelCellWeapon">
        <Aliases value="_Unit"/>
        <Aliases value="_Missile"/>
        <PreHost value="_ActorAction"/>
        <Model value="FuelCellCarryModel"/>
        <On Terms="UnitBirth.FuelCellWeapon" Send="Create"/>
        <On Terms="UnitBirth" Send="AnimBracketStart Lifetime {} Stand Death"/>
        <On Terms="UnitDeath" Send="Destroy"/>
        <On Terms="ActorOrphan" Send="Destroy"/>
        <On Terms="MotionPhaseStart; MotionPhase 1" Send="HostSiteOpsSet ::Host {SOpFuelCellLaunchRotatorA SOpFuelCellLaunchRotatorB}"/>
        <HostSiteOps Ops="SOpIvariiCrystalPickupRotator SOpIvariiCrystalPickupRotatorB"/>
    </CActorMissile>
    <CEffectSet id="FuelCellPickupUnit">
        <EffectArray value="FuelCellPickupUnitAB"/>
        <EffectArray value="FuelCellPickupUnitKillTarget"/>
    </CEffectSet>
    <CEffectDamage id="FuelCellPickupUnitKillTarget">
        <Flags index="Kill" value="1"/>
        <Death value="Timeout"/>
        <ImpactLocation Value="TargetUnit"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="FuelCellPickupUnitAB">
        <EditorCategories value="Race:Terran"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="FuelCellPickupUnit"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="FuelCellPickupUnitRB">
        <EditorCategories value="Race:Terran"/>
        <WhichUnit Value="Source"/>
        <BehaviorLink value="FuelCellPickupUnit"/>
    </CEffectRemoveBehavior>
    <CEffectCreateUnit id="FuelCellPickupUnitCULava">
        <EditorCategories value="Race:Terran"/>
        <WhichLocation Value="SourcePoint"/>
        <SpawnUnit value="FuelCellPickupUnit"/>
        <SpawnRange value="8"/>
        <SpawnEffect value="FuelCellPickupUnitCreateLinkDummy"/>
        <ValidatorArray value="TargetHasLavaDamage1"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="FuelCellPickupUnitCU">
        <EditorCategories value="Race:Terran"/>
        <WhichLocation Value="SourcePoint"/>
        <SpawnUnit value="FuelCellPickupUnit"/>
        <SpawnRange value="8"/>
        <SpawnEffect value="FuelCellPickupUnitCreateLinkDummy"/>
    </CEffectCreateUnit>
    <CEffectModifyUnit id="FuelCellPickupUnitCreateLinkDummy"/>
    <CEffectLaunchMissile id="FuelCellTurninLM">
        <AmmoUnit value="FuelCellWeapon"/>
        <ImpactEffect value="FuelCellTurninDummy"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="FuelCellTurninDummy"/>
    <CModel id="FuelCellPickupUnit" parent="Unit" Race="Terran">
        <ScaleMax value="1.150000,1.150000,1.150000"/>
        <ScaleMin value="1.150000,1.150000,1.150000"/>
        <Model value="Assets\Units\Neutral\Pickup_XenonCrystal\Pickup_XenonCrystal.m3"/>
        <SelectionOffset value="0.000000,0.000000,0.100000"/>
    </CModel>
    <CModel id="FuelCellCarryModel" parent="Unit" Race="Terran">
        <ScaleMax value="1.150000,1.150000,1.150000"/>
        <ScaleMin value="1.150000,1.150000,1.150000"/>
        <Model value="Assets\Units\Neutral\Pickup_XenonCrystal\Pickup_XenonCrystal.m3"/>
    </CModel>
    <CMoverMissile id="FuelCellWeapon">
        <MotionPhases>
            <Driver value="Throw"/>
            <Acceleration value="3200"/>
            <MaxSpeed value="1"/>
            <ArrivalTestType value="2D"/>
            <BlendType value="Linear"/>
            <Outro value="4,4.5"/>
            <RotationActorType value="Upright"/>
            <ThrowVector value="0,0,5"/>
        </MotionPhases>
        <MotionPhases>
            <Driver value="Guidance"/>
            <Acceleration value="3200"/>
            <MaxSpeed value="10"/>
            <TurnType value="Optimal"/>
            <ArrivalTestType value="2D"/>
            <BlendType value="Linear"/>
            <RotationActorType value="Upright"/>
            <YawPitchRoll value="MAX"/>
        </MotionPhases>
    </CMoverMissile>
    <CActorSiteOpRotator id="SOpFuelCellLaunchRotatorA">
        <LocalAxis value="1.000000,0.000000,0.000000"/>
        <Rate value="80.000000"/>
    </CActorSiteOpRotator>
    <CActorSiteOpRotator id="SOpFuelCellLaunchRotatorB">
        <LocalAxis value="1.500000,0.500000,0.500000"/>
        <Rate value="210.000000"/>
    </CActorSiteOpRotator>
    <CBehaviorBuff id="FuelCellPickupUnit">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <InfoFlags index="Hidden" value="1"/>
        <Modification>
            <StateFlags index="SuppressPassenger" value="1"/>
            <AbilLinkDisableArray value="TerranBuild"/>
            <AbilLinkDisableArray value="TerranBuildDrop"/>
            <AbilLinkDisableArray value="ProtossBuild"/>
            <AbilLinkDisableArray value="ZergBuild"/>
            <AbilLinkDisableArray value="SCVHarvest"/>
            <AbilLinkDisableArray value="ProbeHarvest"/>
            <AbilLinkDisableArray value="DroneHarvest"/>
            <AbilLinkDisableArray value="Repair"/>
            <AbilLinkDisableArray value="BurrowDroneDown"/>
            <AbilLinkDisableArray value="SIAdvancedBuild"/>
            <AbilLinkDisableArray value="TerranBuildFullRefund"/>
            <AbilLinkDisableArray value="HHBuild"/>
            <AbilLinkDisableArray value="TychusTerranBuild"/>
            <AbilLinkDisableArray value="DehakaDroneMorph"/>
            <AbilLinkDisableArray value="BurrowDehakaDroneDown"/>
            <AbilLinkDisableArray value="ZeratulBuild"/>
            <DeathResponse Chance="1" Effect="FuelCellPickupUnitCUSet">
                <Cost>
                    <Charge>
                        <CountMax value="1"/>
                        <CountStart value="1"/>
                        <CountUse value="1"/>
                        <Location value="Behavior"/>
                    </Charge>
                </Cost>
            </DeathResponse>
        </Modification>
        <BehaviorCategories index="User6" value="1"/>
    </CBehaviorBuff>
    <CEffectCreateUnit id="FuelCellPickupForceDropCU">
        <ValidatorArray value="CarryingFuelCellPickupUnit"/>
        <EditorCategories value="Race:Terran"/>
        <SpawnEffect value="FuelCellPickupUnitCreateLinkDummy"/>
        <SpawnUnit value="FuelCellPickupUnit"/>
        <SpawnRange value="8"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreateUnit>
    <CEffectCreatePersistent id="FuelCellPickupUnitCUDelay">
        <EditorCategories value="Race:Protoss"/>
        <ExpireDelay value="0.125"/>
        <ExpireEffect value="FuelCellPickupUnitCUSet"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectDestroyPersistent id="FuelCellPickupUnitCUDelayDestroyer">
        <EditorCategories value="Race:Protoss"/>
        <Effect value="FuelCellPickupUnitCUDelay"/>
    </CEffectDestroyPersistent>
    <CEffectSet id="FuelCellPickupUnitCUSet">
        <EditorCategories value="Race:Protoss"/>
        <EffectArray value="FuelCellPickupUnitRB"/>
        <EffectArray value="FuelCellPickupUnitCU"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CRequirementAnd id="AndCountUpgradeKaraxCommanderCompleteOnlyGT5CountUpgradeCommanderLevelCompleteOnlyNot1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnitNotCountBehaviorFuelCellPickupUnitCompleteOnly">
        <OperandArray value="CountUpgradeKaraxCommanderCompleteOnly" index="0"/>
        <OperandArray value="GT5CountUpgradeCommanderLevelCompleteOnly" index="1"/>
        <OperandArray value="Not1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnit" index="2"/>
        <OperandArray value="NotCountBehaviorFuelCellPickupUnitCompleteOnly" index="3"/>
    </CRequirementAnd>
    <CRequirementAnd id="AndCountUpgradeRaynorCommanderCompleteOnlyGT6CountUpgradeCommanderLevelCompleteOnlyNot1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnitNotCountBehaviorFuelCellPickupUnitCompleteOnly">
        <OperandArray value="CountUpgradeRaynorCommanderCompleteOnly" index="0"/>
        <OperandArray value="GT6CountUpgradeCommanderLevelCompleteOnly" index="1"/>
        <OperandArray value="Not1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnit" index="2"/>
        <OperandArray value="NotCountBehaviorFuelCellPickupUnitCompleteOnly" index="3"/>
    </CRequirementAnd>

    <CRequirementAnd id="AndCountUpgradeZagaraCommanderCompleteOnlyGT5CountUpgradeCommanderLevelCompleteOnlyNot1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnitNotCountBehaviorFuelCellPickupUnitCompleteOnly">
        <OperandArray value="CountUpgradeZagaraCommanderCompleteOnly" index="0"/>
        <OperandArray value="GT5CountUpgradeCommanderLevelCompleteOnly" index="1"/>
        <OperandArray value="Not1225867992CountBehaviorUnderConstructionCompleteOnlyAtUnit" index="2"/>
        <OperandArray value="NotCountBehaviorFuelCellPickupUnitCompleteOnly" index="3"/>
    </CRequirementAnd>
    <CRequirementCountBehavior id="CountBehaviorFuelCellPickupUnitCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="FuelCellPickupUnit" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementNot id="NotCountBehaviorFuelCellPickupUnitCompleteOnly">
        <OperandArray index="0" value="CountBehaviorFuelCellPickupUnitCompleteOnly"/>
    </CRequirementNot>

    <CValidatorUnitCompareBehaviorCount id="CarryingFuelCellPickupUnit">
        <Compare value="GT"/>
        <Behavior value="FuelCellPickupUnit"/>
        <WhichUnit Value="Caster"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="NoRecallFuelCellPickupUnit">
        <Behavior value="FuelCellPickupUnit"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitType id="FuelCellPickupUnit">
        <Value value="FuelCellPickupUnit"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareBehaviorCount id="NoFuelCellPickupUnitCaster">
        <WhichUnit Value="Caster"/>
        <Behavior value="FuelCellPickupUnit"/>
    </CValidatorUnitCompareBehaviorCount>

</Catalog>